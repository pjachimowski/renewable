{"changed":true,"filter":false,"title":"graphs2.js","tooltip":"/static/js/graphs2.js","value":"queue()\n    .defer(d3.csv, \"data/states.csv\")\n    .await(makeGraphs);\n\nfunction makeGraphs(error, statesData) {\n    var ndx = crossfilter(statesData);\n\n    show_members_balance(ndx);\n    show_year_accession(ndx);\n\n    // pie charts\n\n    show_council_votes(ndx);\n    show_parliament_seats(ndx);\n\n    show_gdp_per_year(ndx);\n\n    dc.renderAll();\n}\n\n/* ------ show_members_balance --------*/\n\nfunction show_members_balance(ndx) {\n    var dim = ndx.dimension(dc.pluck('European_Union'));\n    var group = dim.group();\n\n    dc.barChart(\"#members_balance\")\n        .width(400)\n        .height(300)\n        .margins({ top: 10, right: 50, bottom: 30, left: 50 })\n        .dimension(dim)\n        .group(group)\n        .transitionDuration(500)\n        .x(d3.scale.ordinal())\n        .xUnits(dc.units.ordinal)\n        .elasticY(true)\n        .xAxisLabel(\"Countries in Europe\")\n        .yAxis().ticks(10);\n}\n\n/* ------ show_year_accession --------*/\n\nfunction show_year_accession(ndx) {\n    var dim = ndx.dimension(dc.pluck('Accession_Year'));\n    var group = dim.group();\n\n    dc.barChart(\"#year_accession\")\n        .width(400)\n        .height(300)\n        .margins({ top: 10, right: 50, bottom: 30, left: 50 })\n        .dimension(dim)\n        .group(group)\n        .transitionDuration(500)\n        .x(d3.scale.ordinal())\n        .xUnits(dc.units.ordinal)\n        .elasticY(true)\n        .xAxisLabel(\"Countries in Europe\")\n        .yAxis().ticks(5);\n}\n\n/* ----- show_council_votes ------------*/\n\nfunction show_council_votes(ndx) {\n    var dim = ndx.dimension(d => d.country);\n    var group = dim.group().reduceSum(d => d.council_votes);\n\n    dc.pieChart(\"#council_votes\")\n        .height(400)\n        .width(400)\n        .radius(150)\n        .slicesCap(37)\n        .innerRadius(50)\n        .dimension(dim)\n        .group(group)\n        .renderLabel(true)\n        .drawPaths(false)\n        .externalLabels(-2)\n        .on('pretransition', function(chart) {\n            chart.selectAll('text.pie-slice').text(function(d) {\n                if (d.data.value > 13) {\n                    return d.data.key + ': ' + d.data.value;\n                }\n                return \"\";\n            });\n        });\n}\n\n\n/* ------- show_parliament_seats -------*/\n\nfunction show_parliament_seats(ndx) {\n    var dim = ndx.dimension(d => d.country);\n    var group = dim.group().reduceSum(d => d.parliament_seats);\n\n    dc.pieChart(\"#parliament-seats\")\n        .height(400)\n        .width(400)\n        .radius(150)\n        .slicesCap(37)\n        .innerRadius(80)\n        .dimension(dim)\n        .group(group)\n        .renderLabel(true)\n        .drawPaths(false)\n        .externalLabels(-10)\n        .on('pretransition', function(chart) {\n            chart.selectAll('text.pie-slice').text(function(d) {\n                if (d.data.value > 20) {\n                    return d.data.key + ': ' + d.data.value;\n                }\n                return \"\";\n            });\n        });\n}\n\n/* -----------------show_gdp_per_year -----------------------*/\n\nfunction show_gdp_per_year(ndx) {\n    var dim = ndx.dimension(dc.pluck(\"country\"));\n    var group2010 = dim.group().reduceSum(dc.pluck(\"2010\"));\n    var group2011 = dim.group().reduceSum(dc.pluck(\"2011\"));\n    var group2012 = dim.group().reduceSum(dc.pluck(\"2012\"));\n    var group2013 = dim.group().reduceSum(dc.pluck(\"2013\"));\n    var group2014 = dim.group().reduceSum(dc.pluck(\"2014\"));\n\n    var gdpChart = dc.lineChart(\"#gdp-per-year\");\n\n        gdpChart\n                .width(990)\n                .height(400)\n                .renderArea(true)\n                .dimension(dim)\n                .group(2010)\n                .stack(2011)\n                .stack(2012)\n                .x(d3.scale.ordinal());\n}\n\n","undoManager":{"mark":94,"position":100,"stack":[[{"start":{"row":131,"column":55},"end":{"row":131,"column":68},"action":"remove","lines":["spend_by_name"],"id":1046},{"start":{"row":131,"column":55},"end":{"row":131,"column":67},"action":"insert","lines":["gdp_per_year"]}],[{"start":{"row":120,"column":24},"end":{"row":120,"column":25},"action":"remove","lines":["r"],"id":1047},{"start":{"row":120,"column":23},"end":{"row":120,"column":24},"action":"remove","lines":["a"]},{"start":{"row":120,"column":22},"end":{"row":120,"column":23},"action":"remove","lines":["e"]},{"start":{"row":120,"column":21},"end":{"row":120,"column":22},"action":"remove","lines":["y"]}],[{"start":{"row":120,"column":21},"end":{"row":120,"column":22},"action":"insert","lines":["c"],"id":1048},{"start":{"row":120,"column":22},"end":{"row":120,"column":23},"action":"insert","lines":["o"]},{"start":{"row":120,"column":23},"end":{"row":120,"column":24},"action":"insert","lines":["u"]},{"start":{"row":120,"column":24},"end":{"row":120,"column":25},"action":"insert","lines":["n"]},{"start":{"row":120,"column":25},"end":{"row":120,"column":26},"action":"insert","lines":["t"]},{"start":{"row":120,"column":26},"end":{"row":120,"column":27},"action":"insert","lines":["r"]},{"start":{"row":120,"column":27},"end":{"row":120,"column":28},"action":"insert","lines":["y"]}],[{"start":{"row":129,"column":42},"end":{"row":129,"column":54},"action":"remove","lines":["gdp_per_year"],"id":1049},{"start":{"row":129,"column":42},"end":{"row":129,"column":57},"action":"insert","lines":["gdp_per_country"]}],[{"start":{"row":130,"column":53},"end":{"row":130,"column":65},"action":"remove","lines":["gdp_per_year"],"id":1050},{"start":{"row":130,"column":53},"end":{"row":130,"column":68},"action":"insert","lines":["gdp_per_country"]}],[{"start":{"row":131,"column":55},"end":{"row":131,"column":67},"action":"remove","lines":["gdp_per_year"],"id":1051},{"start":{"row":131,"column":55},"end":{"row":131,"column":70},"action":"insert","lines":["gdp_per_country"]}],[{"start":{"row":129,"column":11},"end":{"row":129,"column":12},"action":"remove","lines":["0"],"id":1052},{"start":{"row":129,"column":10},"end":{"row":129,"column":11},"action":"remove","lines":["1"]},{"start":{"row":129,"column":9},"end":{"row":129,"column":10},"action":"remove","lines":["0"]},{"start":{"row":129,"column":8},"end":{"row":129,"column":9},"action":"remove","lines":["2"]}],[{"start":{"row":129,"column":8},"end":{"row":129,"column":15},"action":"insert","lines":["Albania"],"id":1053}],[{"start":{"row":129,"column":8},"end":{"row":129,"column":9},"action":"remove","lines":["A"],"id":1054}],[{"start":{"row":129,"column":8},"end":{"row":129,"column":9},"action":"insert","lines":["a"],"id":1055}],[{"start":{"row":129,"column":15},"end":{"row":129,"column":16},"action":"insert","lines":["_"],"id":1056},{"start":{"row":129,"column":16},"end":{"row":129,"column":17},"action":"insert","lines":["g"]},{"start":{"row":129,"column":17},"end":{"row":129,"column":18},"action":"insert","lines":["d"]}],[{"start":{"row":129,"column":18},"end":{"row":129,"column":19},"action":"insert","lines":["p"],"id":1057}],[{"start":{"row":146,"column":19},"end":{"row":146,"column":34},"action":"remove","lines":["tomSpendByMonth"],"id":1058},{"start":{"row":146,"column":19},"end":{"row":146,"column":30},"action":"insert","lines":["albania_gdp"]}],[{"start":{"row":146,"column":35},"end":{"row":146,"column":36},"action":"remove","lines":["m"],"id":1059},{"start":{"row":146,"column":34},"end":{"row":146,"column":35},"action":"remove","lines":["o"]},{"start":{"row":146,"column":33},"end":{"row":146,"column":34},"action":"remove","lines":["T"]}],[{"start":{"row":146,"column":33},"end":{"row":146,"column":34},"action":"insert","lines":["A"],"id":1060},{"start":{"row":146,"column":34},"end":{"row":146,"column":35},"action":"insert","lines":["l"]},{"start":{"row":146,"column":35},"end":{"row":146,"column":36},"action":"insert","lines":["b"]},{"start":{"row":146,"column":36},"end":{"row":146,"column":37},"action":"insert","lines":["a"]},{"start":{"row":146,"column":37},"end":{"row":146,"column":38},"action":"insert","lines":["n"]},{"start":{"row":146,"column":38},"end":{"row":146,"column":39},"action":"insert","lines":["i"]},{"start":{"row":146,"column":39},"end":{"row":146,"column":40},"action":"insert","lines":["a"]}],[{"start":{"row":149,"column":39},"end":{"row":149,"column":40},"action":"remove","lines":["b"],"id":1061},{"start":{"row":149,"column":38},"end":{"row":149,"column":39},"action":"remove","lines":["o"]},{"start":{"row":149,"column":37},"end":{"row":149,"column":38},"action":"remove","lines":["B"]}],[{"start":{"row":149,"column":37},"end":{"row":149,"column":38},"action":"insert","lines":["A"],"id":1062},{"start":{"row":149,"column":38},"end":{"row":149,"column":39},"action":"insert","lines":["u"]},{"start":{"row":149,"column":39},"end":{"row":149,"column":40},"action":"insert","lines":["s"]},{"start":{"row":149,"column":40},"end":{"row":149,"column":41},"action":"insert","lines":["t"]},{"start":{"row":149,"column":41},"end":{"row":149,"column":42},"action":"insert","lines":["r"]},{"start":{"row":149,"column":42},"end":{"row":149,"column":43},"action":"insert","lines":["i"]},{"start":{"row":149,"column":43},"end":{"row":149,"column":44},"action":"insert","lines":["a"]}],[{"start":{"row":152,"column":43},"end":{"row":152,"column":44},"action":"remove","lines":["e"],"id":1063},{"start":{"row":152,"column":42},"end":{"row":152,"column":43},"action":"remove","lines":["c"]},{"start":{"row":152,"column":41},"end":{"row":152,"column":42},"action":"remove","lines":["i"]},{"start":{"row":152,"column":40},"end":{"row":152,"column":41},"action":"remove","lines":["l"]},{"start":{"row":152,"column":39},"end":{"row":152,"column":40},"action":"remove","lines":["A"]}],[{"start":{"row":152,"column":39},"end":{"row":152,"column":40},"action":"insert","lines":["B"],"id":1064},{"start":{"row":152,"column":40},"end":{"row":152,"column":41},"action":"insert","lines":["e"]},{"start":{"row":152,"column":41},"end":{"row":152,"column":42},"action":"insert","lines":["l"]},{"start":{"row":152,"column":42},"end":{"row":152,"column":43},"action":"insert","lines":["g"]},{"start":{"row":152,"column":43},"end":{"row":152,"column":44},"action":"insert","lines":["i"]},{"start":{"row":152,"column":44},"end":{"row":152,"column":45},"action":"insert","lines":["u"]},{"start":{"row":152,"column":45},"end":{"row":152,"column":46},"action":"insert","lines":["m"]}],[{"start":{"row":149,"column":19},"end":{"row":149,"column":34},"action":"remove","lines":["bobSpendByMonth"],"id":1065},{"start":{"row":149,"column":19},"end":{"row":149,"column":30},"action":"insert","lines":["albania_gdp"]}],[{"start":{"row":149,"column":25},"end":{"row":149,"column":26},"action":"remove","lines":["a"],"id":1066},{"start":{"row":149,"column":24},"end":{"row":149,"column":25},"action":"remove","lines":["i"]},{"start":{"row":149,"column":23},"end":{"row":149,"column":24},"action":"remove","lines":["n"]},{"start":{"row":149,"column":22},"end":{"row":149,"column":23},"action":"remove","lines":["a"]},{"start":{"row":149,"column":21},"end":{"row":149,"column":22},"action":"remove","lines":["b"]},{"start":{"row":149,"column":20},"end":{"row":149,"column":21},"action":"remove","lines":["l"]}],[{"start":{"row":149,"column":20},"end":{"row":149,"column":21},"action":"insert","lines":["u"],"id":1067},{"start":{"row":149,"column":21},"end":{"row":149,"column":22},"action":"insert","lines":["s"]},{"start":{"row":149,"column":22},"end":{"row":149,"column":23},"action":"insert","lines":["t"]},{"start":{"row":149,"column":23},"end":{"row":149,"column":24},"action":"insert","lines":["r"]},{"start":{"row":149,"column":24},"end":{"row":149,"column":25},"action":"insert","lines":["i"]},{"start":{"row":149,"column":25},"end":{"row":149,"column":26},"action":"insert","lines":["a"]}],[{"start":{"row":152,"column":19},"end":{"row":152,"column":36},"action":"remove","lines":["aliceSpendByMonth"],"id":1068},{"start":{"row":152,"column":19},"end":{"row":152,"column":20},"action":"insert","lines":["b"]},{"start":{"row":152,"column":20},"end":{"row":152,"column":21},"action":"insert","lines":["e"]},{"start":{"row":152,"column":21},"end":{"row":152,"column":22},"action":"insert","lines":["l"]},{"start":{"row":152,"column":22},"end":{"row":152,"column":23},"action":"insert","lines":["g"]}],[{"start":{"row":152,"column":23},"end":{"row":152,"column":24},"action":"insert","lines":["i"],"id":1069},{"start":{"row":152,"column":24},"end":{"row":152,"column":25},"action":"insert","lines":["u"]},{"start":{"row":152,"column":25},"end":{"row":152,"column":26},"action":"insert","lines":["m"]},{"start":{"row":152,"column":26},"end":{"row":152,"column":27},"action":"insert","lines":["_"]},{"start":{"row":152,"column":27},"end":{"row":152,"column":28},"action":"insert","lines":["g"]}],[{"start":{"row":152,"column":28},"end":{"row":152,"column":29},"action":"insert","lines":["d"],"id":1070},{"start":{"row":152,"column":29},"end":{"row":152,"column":30},"action":"insert","lines":["p"]}],[{"start":{"row":131,"column":8},"end":{"row":131,"column":25},"action":"remove","lines":["aliceSpendByMonth"],"id":1071},{"start":{"row":131,"column":8},"end":{"row":131,"column":19},"action":"insert","lines":["belgium_gdp"]}],[{"start":{"row":130,"column":8},"end":{"row":130,"column":22},"action":"remove","lines":["bobSpendByMont"],"id":1072},{"start":{"row":130,"column":8},"end":{"row":130,"column":19},"action":"insert","lines":["austria_gdp"]}],[{"start":{"row":130,"column":19},"end":{"row":130,"column":20},"action":"remove","lines":["h"],"id":1073}],[{"start":{"row":129,"column":66},"end":{"row":129,"column":69},"action":"remove","lines":["Tom"],"id":1074},{"start":{"row":129,"column":66},"end":{"row":129,"column":67},"action":"insert","lines":["A"]},{"start":{"row":129,"column":67},"end":{"row":129,"column":68},"action":"insert","lines":["l"]},{"start":{"row":129,"column":68},"end":{"row":129,"column":69},"action":"insert","lines":["b"]},{"start":{"row":129,"column":69},"end":{"row":129,"column":70},"action":"insert","lines":["a"]},{"start":{"row":129,"column":70},"end":{"row":129,"column":71},"action":"insert","lines":["n"]},{"start":{"row":129,"column":71},"end":{"row":129,"column":72},"action":"insert","lines":["i"]},{"start":{"row":129,"column":72},"end":{"row":129,"column":73},"action":"insert","lines":["a"]}],[{"start":{"row":130,"column":66},"end":{"row":130,"column":69},"action":"remove","lines":["Bob"],"id":1075},{"start":{"row":130,"column":66},"end":{"row":130,"column":67},"action":"insert","lines":["A"]},{"start":{"row":130,"column":67},"end":{"row":130,"column":68},"action":"insert","lines":["u"]},{"start":{"row":130,"column":68},"end":{"row":130,"column":69},"action":"insert","lines":["s"]},{"start":{"row":130,"column":69},"end":{"row":130,"column":70},"action":"insert","lines":["t"]},{"start":{"row":130,"column":70},"end":{"row":130,"column":71},"action":"insert","lines":["r"]},{"start":{"row":130,"column":71},"end":{"row":130,"column":72},"action":"insert","lines":["i"]},{"start":{"row":130,"column":72},"end":{"row":130,"column":73},"action":"insert","lines":["a"]}],[{"start":{"row":131,"column":66},"end":{"row":131,"column":71},"action":"remove","lines":["Alice"],"id":1076},{"start":{"row":131,"column":66},"end":{"row":131,"column":67},"action":"insert","lines":["B"]},{"start":{"row":131,"column":67},"end":{"row":131,"column":68},"action":"insert","lines":["e"]},{"start":{"row":131,"column":68},"end":{"row":131,"column":69},"action":"insert","lines":["l"]},{"start":{"row":131,"column":69},"end":{"row":131,"column":70},"action":"insert","lines":["g"]},{"start":{"row":131,"column":70},"end":{"row":131,"column":71},"action":"insert","lines":["i"]},{"start":{"row":131,"column":71},"end":{"row":131,"column":72},"action":"insert","lines":["u"]},{"start":{"row":131,"column":72},"end":{"row":131,"column":73},"action":"insert","lines":["m"]}],[{"start":{"row":139,"column":8},"end":{"row":139,"column":9},"action":"insert","lines":["/"],"id":1077},{"start":{"row":139,"column":9},"end":{"row":139,"column":10},"action":"insert","lines":["/"]}],[{"start":{"row":139,"column":10},"end":{"row":139,"column":11},"action":"insert","lines":[" "],"id":1078}],[{"start":{"row":138,"column":19},"end":{"row":138,"column":27},"action":"remove","lines":["date_dim"],"id":1079},{"start":{"row":138,"column":19},"end":{"row":138,"column":27},"action":"insert","lines":["year_dim"]}],[{"start":{"row":135,"column":13},"end":{"row":135,"column":18},"action":"insert","lines":["Chart"],"id":1080}],[{"start":{"row":133,"column":17},"end":{"row":133,"column":22},"action":"insert","lines":["Chart"],"id":1081}],[{"start":{"row":139,"column":10},"end":{"row":139,"column":11},"action":"remove","lines":[" "],"id":1082},{"start":{"row":139,"column":9},"end":{"row":139,"column":10},"action":"remove","lines":["/"]},{"start":{"row":139,"column":8},"end":{"row":139,"column":9},"action":"remove","lines":["/"]}],[{"start":{"row":139,"column":34},"end":{"row":139,"column":52},"action":"remove","lines":["[minDate, maxDate]"],"id":1083}],[{"start":{"row":117,"column":0},"end":{"row":117,"column":1},"action":"insert","lines":["?"],"id":1084}],[{"start":{"row":117,"column":0},"end":{"row":117,"column":1},"action":"remove","lines":["?"],"id":1085}],[{"start":{"row":117,"column":0},"end":{"row":117,"column":1},"action":"insert","lines":["/"],"id":1086},{"start":{"row":117,"column":1},"end":{"row":117,"column":2},"action":"insert","lines":["*"]}],[{"start":{"row":117,"column":2},"end":{"row":117,"column":3},"action":"insert","lines":[" "],"id":1087},{"start":{"row":117,"column":3},"end":{"row":117,"column":4},"action":"insert","lines":["-"]},{"start":{"row":117,"column":4},"end":{"row":117,"column":5},"action":"insert","lines":["-"]},{"start":{"row":117,"column":5},"end":{"row":117,"column":6},"action":"insert","lines":["-"]},{"start":{"row":117,"column":6},"end":{"row":117,"column":7},"action":"insert","lines":["-"]},{"start":{"row":117,"column":7},"end":{"row":117,"column":8},"action":"insert","lines":["-"]},{"start":{"row":117,"column":8},"end":{"row":117,"column":9},"action":"insert","lines":["-"]}],[{"start":{"row":117,"column":9},"end":{"row":117,"column":10},"action":"insert","lines":[" "],"id":1088},{"start":{"row":117,"column":10},"end":{"row":117,"column":11},"action":"insert","lines":["f"]},{"start":{"row":117,"column":11},"end":{"row":117,"column":12},"action":"insert","lines":["a"]},{"start":{"row":117,"column":12},"end":{"row":117,"column":13},"action":"insert","lines":["i"]},{"start":{"row":117,"column":13},"end":{"row":117,"column":14},"action":"insert","lines":["l"]},{"start":{"row":117,"column":14},"end":{"row":117,"column":15},"action":"insert","lines":["u"]},{"start":{"row":117,"column":15},"end":{"row":117,"column":16},"action":"insert","lines":["r"]},{"start":{"row":117,"column":16},"end":{"row":117,"column":17},"action":"insert","lines":["e"]}],[{"start":{"row":117,"column":17},"end":{"row":117,"column":18},"action":"insert","lines":[" "],"id":1089}],[{"start":{"row":157,"column":0},"end":{"row":158,"column":0},"action":"insert","lines":["",""],"id":1090},{"start":{"row":158,"column":0},"end":{"row":158,"column":1},"action":"insert","lines":["*"]},{"start":{"row":158,"column":1},"end":{"row":158,"column":2},"action":"insert","lines":["/"]}],[{"start":{"row":158,"column":0},"end":{"row":158,"column":1},"action":"insert","lines":[" "],"id":1091},{"start":{"row":158,"column":1},"end":{"row":158,"column":2},"action":"insert","lines":["-"]},{"start":{"row":158,"column":2},"end":{"row":158,"column":3},"action":"insert","lines":["-"]},{"start":{"row":158,"column":3},"end":{"row":158,"column":4},"action":"insert","lines":["-"]},{"start":{"row":158,"column":4},"end":{"row":158,"column":5},"action":"insert","lines":["-"]},{"start":{"row":158,"column":5},"end":{"row":158,"column":6},"action":"insert","lines":["-"]},{"start":{"row":158,"column":6},"end":{"row":158,"column":7},"action":"insert","lines":["-"]},{"start":{"row":158,"column":7},"end":{"row":158,"column":8},"action":"insert","lines":["-"]},{"start":{"row":158,"column":8},"end":{"row":158,"column":9},"action":"insert","lines":["-"]},{"start":{"row":158,"column":9},"end":{"row":158,"column":10},"action":"insert","lines":["-"]},{"start":{"row":158,"column":10},"end":{"row":158,"column":11},"action":"insert","lines":["-"]},{"start":{"row":158,"column":11},"end":{"row":158,"column":12},"action":"insert","lines":["-"]},{"start":{"row":158,"column":12},"end":{"row":158,"column":13},"action":"insert","lines":["-"]},{"start":{"row":158,"column":13},"end":{"row":158,"column":14},"action":"insert","lines":["-"]},{"start":{"row":158,"column":14},"end":{"row":158,"column":15},"action":"insert","lines":["-"]},{"start":{"row":158,"column":15},"end":{"row":158,"column":16},"action":"insert","lines":["-"]},{"start":{"row":158,"column":16},"end":{"row":158,"column":17},"action":"insert","lines":["-"]},{"start":{"row":158,"column":17},"end":{"row":158,"column":18},"action":"insert","lines":["-"]},{"start":{"row":158,"column":18},"end":{"row":158,"column":19},"action":"insert","lines":["-"]},{"start":{"row":158,"column":19},"end":{"row":158,"column":20},"action":"insert","lines":["-"]},{"start":{"row":158,"column":20},"end":{"row":158,"column":21},"action":"insert","lines":["-"]},{"start":{"row":158,"column":21},"end":{"row":158,"column":22},"action":"insert","lines":["-"]},{"start":{"row":158,"column":22},"end":{"row":158,"column":23},"action":"insert","lines":["-"]},{"start":{"row":158,"column":23},"end":{"row":158,"column":24},"action":"insert","lines":["-"]},{"start":{"row":158,"column":24},"end":{"row":158,"column":25},"action":"insert","lines":["-"]},{"start":{"row":158,"column":25},"end":{"row":158,"column":26},"action":"insert","lines":["-"]},{"start":{"row":158,"column":26},"end":{"row":158,"column":27},"action":"insert","lines":["-"]},{"start":{"row":158,"column":27},"end":{"row":158,"column":28},"action":"insert","lines":["-"]},{"start":{"row":158,"column":28},"end":{"row":158,"column":29},"action":"insert","lines":["-"]},{"start":{"row":158,"column":29},"end":{"row":158,"column":30},"action":"insert","lines":["-"]},{"start":{"row":158,"column":30},"end":{"row":158,"column":31},"action":"insert","lines":["-"]},{"start":{"row":158,"column":31},"end":{"row":158,"column":32},"action":"insert","lines":["-"]},{"start":{"row":158,"column":32},"end":{"row":158,"column":33},"action":"insert","lines":["-"]},{"start":{"row":158,"column":33},"end":{"row":158,"column":34},"action":"insert","lines":["-"]},{"start":{"row":158,"column":34},"end":{"row":158,"column":35},"action":"insert","lines":["-"]},{"start":{"row":158,"column":35},"end":{"row":158,"column":36},"action":"insert","lines":["-"]},{"start":{"row":158,"column":36},"end":{"row":158,"column":37},"action":"insert","lines":["-"]},{"start":{"row":158,"column":37},"end":{"row":158,"column":38},"action":"insert","lines":["-"]},{"start":{"row":158,"column":38},"end":{"row":158,"column":39},"action":"insert","lines":["-"]},{"start":{"row":158,"column":39},"end":{"row":158,"column":40},"action":"insert","lines":["-"]},{"start":{"row":158,"column":40},"end":{"row":158,"column":41},"action":"insert","lines":["-"]},{"start":{"row":158,"column":41},"end":{"row":158,"column":42},"action":"insert","lines":["-"]},{"start":{"row":158,"column":42},"end":{"row":158,"column":43},"action":"insert","lines":["-"]}],[{"start":{"row":158,"column":43},"end":{"row":158,"column":44},"action":"insert","lines":["-"],"id":1092},{"start":{"row":158,"column":44},"end":{"row":158,"column":45},"action":"insert","lines":["-"]},{"start":{"row":158,"column":45},"end":{"row":158,"column":46},"action":"insert","lines":["-"]},{"start":{"row":158,"column":46},"end":{"row":158,"column":47},"action":"insert","lines":["-"]},{"start":{"row":158,"column":47},"end":{"row":158,"column":48},"action":"insert","lines":["-"]},{"start":{"row":158,"column":48},"end":{"row":158,"column":49},"action":"insert","lines":["-"]},{"start":{"row":158,"column":49},"end":{"row":158,"column":50},"action":"insert","lines":["-"]},{"start":{"row":158,"column":50},"end":{"row":158,"column":51},"action":"insert","lines":["-"]},{"start":{"row":158,"column":51},"end":{"row":158,"column":52},"action":"insert","lines":["-"]},{"start":{"row":158,"column":52},"end":{"row":158,"column":53},"action":"insert","lines":["-"]},{"start":{"row":158,"column":53},"end":{"row":158,"column":54},"action":"insert","lines":["-"]},{"start":{"row":158,"column":54},"end":{"row":158,"column":55},"action":"insert","lines":["-"]},{"start":{"row":158,"column":55},"end":{"row":158,"column":56},"action":"insert","lines":["-"]},{"start":{"row":158,"column":56},"end":{"row":158,"column":57},"action":"insert","lines":["-"]},{"start":{"row":158,"column":57},"end":{"row":158,"column":58},"action":"insert","lines":["-"]},{"start":{"row":158,"column":58},"end":{"row":158,"column":59},"action":"insert","lines":["-"]},{"start":{"row":158,"column":59},"end":{"row":158,"column":60},"action":"insert","lines":["-"]},{"start":{"row":158,"column":60},"end":{"row":158,"column":61},"action":"insert","lines":["-"]},{"start":{"row":158,"column":61},"end":{"row":158,"column":62},"action":"insert","lines":["-"]},{"start":{"row":158,"column":62},"end":{"row":158,"column":63},"action":"insert","lines":["-"]},{"start":{"row":158,"column":63},"end":{"row":158,"column":64},"action":"insert","lines":["-"]},{"start":{"row":158,"column":64},"end":{"row":158,"column":65},"action":"insert","lines":["-"]},{"start":{"row":158,"column":65},"end":{"row":158,"column":66},"action":"insert","lines":["-"]},{"start":{"row":158,"column":66},"end":{"row":158,"column":67},"action":"insert","lines":["-"]}],[{"start":{"row":158,"column":67},"end":{"row":158,"column":68},"action":"insert","lines":[" "],"id":1093}],[{"start":{"row":15,"column":4},"end":{"row":15,"column":5},"action":"insert","lines":["/"],"id":1094},{"start":{"row":15,"column":5},"end":{"row":15,"column":6},"action":"insert","lines":["/"]}],[{"start":{"row":15,"column":6},"end":{"row":15,"column":7},"action":"insert","lines":[" "],"id":1095}],[{"start":{"row":15,"column":6},"end":{"row":15,"column":7},"action":"remove","lines":[" "],"id":1096},{"start":{"row":15,"column":5},"end":{"row":15,"column":6},"action":"remove","lines":["/"]},{"start":{"row":15,"column":4},"end":{"row":15,"column":5},"action":"remove","lines":["/"]}],[{"start":{"row":158,"column":0},"end":{"row":158,"column":70},"action":"remove","lines":[" ------------------------------------------------------------------ */"],"id":1097}],[{"start":{"row":116,"column":0},"end":{"row":117,"column":18},"action":"remove","lines":["","/* ------ failure "],"id":1098}],[{"start":{"row":116,"column":0},"end":{"row":116,"column":6},"action":"insert","lines":["/* ---"],"id":1099}],[{"start":{"row":156,"column":0},"end":{"row":156,"column":7},"action":"insert","lines":["---- */"],"id":1100}],[{"start":{"row":115,"column":0},"end":{"row":156,"column":7},"action":"remove","lines":["/* -------- show_gdp_per_year -------------------------- */","/* ---","function show_gdp_per_year(ndx) {","    var year_dim = ndx.dimension(dc.pluck('date'));","    function gdp_per_country(country) {","            return function(d) {","                if (d.country === country) {","                    return 1; // something is wrong with \"1\"","                } else {","                    return 0;","                }","            }","        }","    var albania_gdp = year_dim.group().reduceSum(gdp_per_country('Albania'));","    var austria_gdp = year_dim.group().reduceSum(gdp_per_country('Austria'));","    var belgium_gdp = year_dim.group().reduceSum(gdp_per_country('Belgium'));","","    var compositeChart = dc.compositeChart(\"#gdp-per-year\");","","    compositeChart","        .width(990)","        .height(200)","        .dimension(year_dim)","        .x(d3.time.scale().domain())","        .yAxisLabel(\"year\")","        .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","        .renderHorizontalGridLines(true)","        .compose([","            dc.lineChart(compositeChart)","            .colors('green')","            .group(albania_gdp, 'Albania'),","            dc.lineChart(compositeChart)","            .colors('red')","            .group(austria_gdp, 'Austria'),","            dc.lineChart(compositeChart)","            .colors('blue')","            .group(belgium_gdp, 'Belgium')","        ])","        .brushOn(false)","        .render();","}","---- */"],"id":1101}],[{"start":{"row":15,"column":4},"end":{"row":15,"column":5},"action":"insert","lines":["/"],"id":1102},{"start":{"row":15,"column":5},"end":{"row":15,"column":6},"action":"insert","lines":["/"]}],[{"start":{"row":15,"column":6},"end":{"row":15,"column":7},"action":"insert","lines":[" "],"id":1103}],[{"start":{"row":15,"column":6},"end":{"row":15,"column":7},"action":"remove","lines":[" "],"id":1104},{"start":{"row":15,"column":5},"end":{"row":15,"column":6},"action":"remove","lines":["/"]},{"start":{"row":15,"column":4},"end":{"row":15,"column":5},"action":"remove","lines":["/"]}],[{"start":{"row":115,"column":0},"end":{"row":115,"column":1},"action":"insert","lines":["?"],"id":1105}],[{"start":{"row":115,"column":0},"end":{"row":115,"column":1},"action":"remove","lines":["?"],"id":1106}],[{"start":{"row":115,"column":0},"end":{"row":115,"column":1},"action":"insert","lines":["/"],"id":1107},{"start":{"row":115,"column":1},"end":{"row":115,"column":2},"action":"insert","lines":["*"]}],[{"start":{"row":115,"column":2},"end":{"row":115,"column":3},"action":"insert","lines":[" "],"id":1108}],[{"start":{"row":115,"column":3},"end":{"row":116,"column":0},"action":"insert","lines":["",""],"id":1109},{"start":{"row":116,"column":0},"end":{"row":117,"column":0},"action":"insert","lines":["",""]}],[{"start":{"row":117,"column":0},"end":{"row":151,"column":0},"action":"insert","lines":["function combine_line_chart(ndx) {","    var dim = ndx.dimension(dc.pluck(\"country\"));","    var groupCouncilVotes = dim.group().reduceSum(d => d.council_votes);","    var groupParliamentSeats = dim.group().reduceSum(d => d.parliament_seats);","","    var composite = dc.compositeChart(\"#combine-chart\");","","    composite","        .width(500)","        .height(400)","        .x(d3.scale.ordinal())","        .xUnits(dc.units.ordinal)","        .group(groupCouncilVotes)","        .yAxisLabel(\"The Y Axis\")","        .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","        .renderHorizontalGridLines(true)","        .margins({left: 0, top: 0, right: 10, bottom: 80})","        .compose([","            dc.lineChart(composite)","                .dimension(dim)","                .colors('red')","                .group(groupCouncilVotes, \"Council votes\"),","            dc.lineChart(composite)","                .dimension(dim)","                .colors('blue')","                .group(groupParliamentSeats, \"Parliament seats\")","        ])","        .brushOn(false)","        .renderlet(function(chart){","            chart.selectAll(\"g.x text\")","                .attr('transform', \"rotate(-65)\")","                .attr('x', -35);","        });","}",""],"id":1110}],[{"start":{"row":115,"column":3},"end":{"row":115,"column":4},"action":"insert","lines":["*"],"id":1111},{"start":{"row":115,"column":4},"end":{"row":115,"column":5},"action":"insert","lines":["/"]}],[{"start":{"row":115,"column":3},"end":{"row":115,"column":4},"action":"insert","lines":["-"],"id":1112},{"start":{"row":115,"column":4},"end":{"row":115,"column":5},"action":"insert","lines":["-"]},{"start":{"row":115,"column":5},"end":{"row":115,"column":6},"action":"insert","lines":["-"]},{"start":{"row":115,"column":6},"end":{"row":115,"column":7},"action":"insert","lines":["-"]},{"start":{"row":115,"column":7},"end":{"row":115,"column":8},"action":"insert","lines":["-"]},{"start":{"row":115,"column":8},"end":{"row":115,"column":9},"action":"insert","lines":["-"]},{"start":{"row":115,"column":9},"end":{"row":115,"column":10},"action":"insert","lines":["-"]},{"start":{"row":115,"column":10},"end":{"row":115,"column":11},"action":"insert","lines":["-"]},{"start":{"row":115,"column":11},"end":{"row":115,"column":12},"action":"insert","lines":["-"]},{"start":{"row":115,"column":12},"end":{"row":115,"column":13},"action":"insert","lines":["-"]},{"start":{"row":115,"column":13},"end":{"row":115,"column":14},"action":"insert","lines":["-"]},{"start":{"row":115,"column":14},"end":{"row":115,"column":15},"action":"insert","lines":["-"]},{"start":{"row":115,"column":15},"end":{"row":115,"column":16},"action":"insert","lines":["-"]},{"start":{"row":115,"column":16},"end":{"row":115,"column":17},"action":"insert","lines":["-"]},{"start":{"row":115,"column":17},"end":{"row":115,"column":18},"action":"insert","lines":["-"]},{"start":{"row":115,"column":18},"end":{"row":115,"column":19},"action":"insert","lines":["-"]},{"start":{"row":115,"column":19},"end":{"row":115,"column":20},"action":"insert","lines":["-"]},{"start":{"row":115,"column":20},"end":{"row":115,"column":21},"action":"insert","lines":["-"]},{"start":{"row":115,"column":21},"end":{"row":115,"column":22},"action":"insert","lines":["-"]},{"start":{"row":115,"column":22},"end":{"row":115,"column":23},"action":"insert","lines":["-"]},{"start":{"row":115,"column":23},"end":{"row":115,"column":24},"action":"insert","lines":["-"]},{"start":{"row":115,"column":24},"end":{"row":115,"column":25},"action":"insert","lines":["-"]},{"start":{"row":115,"column":25},"end":{"row":115,"column":26},"action":"insert","lines":["-"]}],[{"start":{"row":115,"column":26},"end":{"row":115,"column":27},"action":"insert","lines":[" "],"id":1113},{"start":{"row":115,"column":27},"end":{"row":115,"column":28},"action":"insert","lines":["-"]},{"start":{"row":115,"column":28},"end":{"row":115,"column":29},"action":"insert","lines":["-"]},{"start":{"row":115,"column":29},"end":{"row":115,"column":30},"action":"insert","lines":["-"]},{"start":{"row":115,"column":30},"end":{"row":115,"column":31},"action":"insert","lines":["-"]},{"start":{"row":115,"column":31},"end":{"row":115,"column":32},"action":"insert","lines":["-"]},{"start":{"row":115,"column":32},"end":{"row":115,"column":33},"action":"insert","lines":["-"]},{"start":{"row":115,"column":33},"end":{"row":115,"column":34},"action":"insert","lines":["-"]},{"start":{"row":115,"column":34},"end":{"row":115,"column":35},"action":"insert","lines":["-"]},{"start":{"row":115,"column":35},"end":{"row":115,"column":36},"action":"insert","lines":["-"]},{"start":{"row":115,"column":36},"end":{"row":115,"column":37},"action":"insert","lines":["-"]},{"start":{"row":115,"column":37},"end":{"row":115,"column":38},"action":"insert","lines":["-"]},{"start":{"row":115,"column":38},"end":{"row":115,"column":39},"action":"insert","lines":["-"]},{"start":{"row":115,"column":39},"end":{"row":115,"column":40},"action":"insert","lines":["-"]},{"start":{"row":115,"column":40},"end":{"row":115,"column":41},"action":"insert","lines":["-"]},{"start":{"row":115,"column":41},"end":{"row":115,"column":42},"action":"insert","lines":["-"]},{"start":{"row":115,"column":42},"end":{"row":115,"column":43},"action":"insert","lines":["-"]},{"start":{"row":115,"column":43},"end":{"row":115,"column":44},"action":"insert","lines":["-"]},{"start":{"row":115,"column":44},"end":{"row":115,"column":45},"action":"insert","lines":["-"]},{"start":{"row":115,"column":45},"end":{"row":115,"column":46},"action":"insert","lines":["-"]},{"start":{"row":115,"column":46},"end":{"row":115,"column":47},"action":"insert","lines":["-"]},{"start":{"row":115,"column":47},"end":{"row":115,"column":48},"action":"insert","lines":["-"]},{"start":{"row":115,"column":48},"end":{"row":115,"column":49},"action":"insert","lines":["-"]},{"start":{"row":115,"column":49},"end":{"row":115,"column":50},"action":"insert","lines":["-"]},{"start":{"row":115,"column":50},"end":{"row":115,"column":51},"action":"insert","lines":["-"]},{"start":{"row":115,"column":51},"end":{"row":115,"column":52},"action":"insert","lines":["-"]},{"start":{"row":115,"column":52},"end":{"row":115,"column":53},"action":"insert","lines":["-"]}],[{"start":{"row":117,"column":9},"end":{"row":117,"column":27},"action":"remove","lines":["combine_line_chart"],"id":1114},{"start":{"row":117,"column":9},"end":{"row":117,"column":26},"action":"insert","lines":["show_gdp_per_year"]}],[{"start":{"row":115,"column":26},"end":{"row":115,"column":43},"action":"insert","lines":["show_gdp_per_year"],"id":1115}],[{"start":{"row":115,"column":17},"end":{"row":115,"column":23},"action":"remove","lines":["------"],"id":1116}],[{"start":{"row":115,"column":45},"end":{"row":115,"column":48},"action":"remove","lines":["---"],"id":1117}],[{"start":{"row":122,"column":40},"end":{"row":122,"column":53},"action":"remove","lines":["combine-chart"],"id":1118},{"start":{"row":122,"column":40},"end":{"row":122,"column":51},"action":"insert","lines":["dp_per_year"]}],[{"start":{"row":122,"column":40},"end":{"row":122,"column":41},"action":"insert","lines":["g"],"id":1119}],[{"start":{"row":122,"column":43},"end":{"row":122,"column":44},"action":"remove","lines":["_"],"id":1120}],[{"start":{"row":122,"column":43},"end":{"row":122,"column":44},"action":"insert","lines":["-"],"id":1121}],[{"start":{"row":122,"column":47},"end":{"row":122,"column":48},"action":"remove","lines":["_"],"id":1122}],[{"start":{"row":122,"column":47},"end":{"row":122,"column":48},"action":"insert","lines":["-"],"id":1130}],[{"start":{"row":119,"column":4},"end":{"row":119,"column":72},"action":"remove","lines":["var groupCouncilVotes = dim.group().reduceSum(d => d.council_votes);"],"id":1131},{"start":{"row":119,"column":4},"end":{"row":119,"column":77},"action":"insert","lines":["var groupCouncilVotes = dim.group().reduceSum(dc.pluck(\"council_votes\"));"]}],[{"start":{"row":119,"column":4},"end":{"row":122,"column":55},"action":"remove","lines":["var groupCouncilVotes = dim.group().reduceSum(dc.pluck(\"council_votes\"));","    var groupParliamentSeats = dim.group().reduceSum(d => d.parliament_seats);","","    var composite = dc.compositeChart(\"#gdp-per-year\");"],"id":1132},{"start":{"row":119,"column":4},"end":{"row":124,"column":51},"action":"insert","lines":["var dim = ndx.dimension(dc.pluck(\"country\"));","var 2010 = dim.group().reduceSum(dc.pluck(\"2010\"));","var 2011 = dim.group().reduceSum(dc.pluck(\"2011\"));","var 2012 = dim.group().reduceSum(dc.pluck(\"2012\"));","var 2013 = dim.group().reduceSum(dc.pluck(\"2013\"));","var 2014 = dim.group().reduceSum(dc.pluck(\"2014\"));"]}],[{"start":{"row":118,"column":4},"end":{"row":118,"column":49},"action":"remove","lines":["var dim = ndx.dimension(dc.pluck(\"country\"));"],"id":1133},{"start":{"row":118,"column":0},"end":{"row":118,"column":4},"action":"remove","lines":["    "]},{"start":{"row":117,"column":33},"end":{"row":118,"column":0},"action":"remove","lines":["",""]}],[{"start":{"row":119,"column":0},"end":{"row":119,"column":4},"action":"insert","lines":["    "],"id":1134}],[{"start":{"row":120,"column":0},"end":{"row":120,"column":4},"action":"insert","lines":["    "],"id":1135}],[{"start":{"row":121,"column":0},"end":{"row":121,"column":4},"action":"insert","lines":["    "],"id":1136}],[{"start":{"row":122,"column":0},"end":{"row":122,"column":4},"action":"insert","lines":["    "],"id":1137}],[{"start":{"row":123,"column":0},"end":{"row":123,"column":4},"action":"insert","lines":["    "],"id":1138}],[{"start":{"row":125,"column":4},"end":{"row":150,"column":11},"action":"remove","lines":["composite","        .width(500)","        .height(400)","        .x(d3.scale.ordinal())","        .xUnits(dc.units.ordinal)","        .group(groupCouncilVotes)","        .yAxisLabel(\"The Y Axis\")","        .legend(dc.legend().x(80).y(20).itemHeight(13).gap(5))","        .renderHorizontalGridLines(true)","        .margins({left: 0, top: 0, right: 10, bottom: 80})","        .compose([","            dc.lineChart(composite)","                .dimension(dim)","                .colors('red')","                .group(groupCouncilVotes, \"Council votes\"),","            dc.lineChart(composite)","                .dimension(dim)","                .colors('blue')","                .group(groupParliamentSeats, \"Parliament seats\")","        ])","        .brushOn(false)","        .renderlet(function(chart){","            chart.selectAll(\"g.x text\")","                .attr('transform', \"rotate(-65)\")","                .attr('x', -35);","        });"],"id":1139},{"start":{"row":125,"column":4},"end":{"row":135,"column":39},"action":"insert","lines":["var gdpChart = dc.lineChart(\"#chart­-spending\");","","        gdpChart","                .width(990)","                .height(400)","                .renderArea(true)","                .dimension(dim)","                .group(2011)","                .stack(2012)","                .stack(2013)","                .x(d3.scale.ordinal());"]}],[{"start":{"row":119,"column":8},"end":{"row":119,"column":9},"action":"insert","lines":["g"],"id":1140},{"start":{"row":119,"column":9},"end":{"row":119,"column":10},"action":"insert","lines":["r"]},{"start":{"row":119,"column":10},"end":{"row":119,"column":11},"action":"insert","lines":["o"]},{"start":{"row":119,"column":11},"end":{"row":119,"column":12},"action":"insert","lines":["u"]}],[{"start":{"row":119,"column":8},"end":{"row":119,"column":12},"action":"remove","lines":["grou"],"id":1141},{"start":{"row":119,"column":8},"end":{"row":119,"column":13},"action":"insert","lines":["group"]}],[{"start":{"row":120,"column":8},"end":{"row":120,"column":13},"action":"insert","lines":["group"],"id":1142}],[{"start":{"row":121,"column":8},"end":{"row":121,"column":13},"action":"insert","lines":["group"],"id":1143}],[{"start":{"row":122,"column":8},"end":{"row":122,"column":13},"action":"insert","lines":["group"],"id":1144}],[{"start":{"row":123,"column":8},"end":{"row":123,"column":13},"action":"insert","lines":["group"],"id":1145}],[{"start":{"row":125,"column":39},"end":{"row":125,"column":40},"action":"remove","lines":["­"],"id":1146}],[{"start":{"row":125,"column":34},"end":{"row":125,"column":48},"action":"remove","lines":["chart-spending"],"id":1147},{"start":{"row":125,"column":34},"end":{"row":125,"column":46},"action":"insert","lines":["gdp-per-year"]}],[{"start":{"row":132,"column":26},"end":{"row":132,"column":27},"action":"remove","lines":["1"],"id":1148}],[{"start":{"row":132,"column":26},"end":{"row":132,"column":27},"action":"insert","lines":["0"],"id":1149}],[{"start":{"row":133,"column":26},"end":{"row":133,"column":27},"action":"remove","lines":["2"],"id":1150}],[{"start":{"row":133,"column":26},"end":{"row":133,"column":27},"action":"insert","lines":["1"],"id":1151}],[{"start":{"row":134,"column":26},"end":{"row":134,"column":27},"action":"remove","lines":["3"],"id":1152}],[{"start":{"row":134,"column":26},"end":{"row":134,"column":27},"action":"insert","lines":["2"],"id":1153}]]},"ace":{"folds":[],"scrolltop":1829.890625,"scrollleft":0,"selection":{"start":{"row":134,"column":21},"end":{"row":134,"column":28},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":123,"state":"start","mode":"ace/mode/javascript"}},"timestamp":1569340988065}